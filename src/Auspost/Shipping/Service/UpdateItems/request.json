{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "UpdateItems",
    "description": "This service initiates the generation of labels for the requested shipments that have been previously created using the Create Shipments service.",
    "type": "object",
    "definitions": {
        "feature": {
            "_comment": "used to define items features",
            "description": "Name of the feature. Eg: TRANSIT_COVER.",
            "type": "object",
            "properties": {
                "attributes": {
                    "description": "Additional information about the feature. Please note that attributes depend on the feature.",
                    "type": "object",
                    "properties": {
                        "cover_amount": {
                            "description": "Cover amount",
                            "type": "number"
                        }
                    }
                }
            }
        }
    },
    "properties": {
        "items": {
            "description": "An item element is to be supplied for each parcel.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "item_id": {
                        "description": "The identifier for the item previously generated by Australia Post during a Create Shipments API call. You specify this field to make changes to an existing item. If you don't specify this field, then a new item is created and added to the shipment. ",
                        "type": "string",
                        "maxLength": 50
                    },
                    "item_reference": {
                        "description": "A unique reference for the item, generated by the merchant. This value must be unique across all items for the charge account.",
                        "type": "string",
                        "maxLength": 50
                    },
                    "product_id": {
                        "description": "The Australia Post code representing the postage product for the item.",
                        "type": "string",
                        "maxLength": 5
                    },
                    "item_description": {
                        "description": "A description of the item, generated by the merchant.",
                        "type": "string"
                    },
                    "length": {
                        "description": "The length of the parcel in centimetres. If volumetric pricing applied then this is mandatory.",
                        "type": "number"
                    },
                    "width": {
                        "description": "The width of the parcel in centimetres. If volumetric pricing applied then this is mandatory.",
                        "type": "number"
                    },
                    "height": {
                        "description": "The height of the parcel in centimetres. If volumetric pricing applied then this is mandatory.",
                        "type": "number"
                    },
                    "weight": {
                        "description": "The parcel's weight in kilograms. This is mandatory for normal shipments (movement_type = DESPATCH) but must not be specified for returns shipments (movement_type = RETURN).",
                        "type": "number"
                    },
                    "contains_dangerous_goods": {
                        "description": "Whether the item contains dangerous goods, generated by the merchant.",
                        "type": "boolean"
                    },
                    "authority_to_leave": {
                        "description": "The Australia Post code representing the postage product for the item.",
                        "type": "boolean"
                    },
                    "allow_partial_delivery": {
                        "description": "Whether items can be delivered to their final destination as they become available or whether all items in the resulting consignment must be delivered together.",
                        "type": "boolean"
                    },
                    "packaging_type": {
                        "description": "The packaging type for this item. Some example values are: CTN, PAL, SAT, BAG, ENV, ITM, JIF, SKI. Note, for StarTrack products, the packaging type (refereed to as a unit type by StarTrack) is mandatory and has a maximum length of 3.",
                        "type": "string",
                        "maxLength": 3
                    },
                    "atl_number": {
                        "description": "The Australia Post code representing the postage product for the item.",
                        "type": "boolean"
                    },
                    "features": {
                        "description": "Additional features for the item.",
                        "type": "object",
                        "properties": {
                            "TRANSIT_COVER": {
                                "$ref": "#/definitions/feature"
                            },
                            "FOO_BAR": {
                                "$ref": "#/definitions/feature"
                            }
                        }
                    },
                    "commercial_value": {
                        "description": "Whether the item has commercial value (i.e. the goods are for resale). This is generated by the merchant and will be shown on the customers form and label.",
                        "type": "boolean"
                    },
                    "export_declaration_number": {
                        "description": "Export declaration number (EDN), generated by the merchant. This field is mandatory for item contents worth more than AUD$2000.",
                        "type": "string",
                        "minLength": 9,
                        "maxLength": 12
                    },
                    "import_reference_number": {
                        "description": "Receiver's reference number. The merchant can use this field to provide information to the receiver as it is printed on the label. ",
                        "type": "string",
                        "maxLength": 40
                    },
                    "classification_type": {
                        "description": "Category or classification of the goods. If commercial_value is true, then this field must be set to 'OTHER', otherwise it must be set to 'GIFT', 'SAMPLE', 'DOCUMENT' or 'RETURN'",
                        "type": "string"
                    },
                    "description_of_other": {
                        "description": "Description of the goods. This is mandatory if classification_type is 'OTHER'.",
                        "type": "string",
                        "maxLength": 40
                    },
                    "non_delivery_action": {
                        "description": "Your desired action if the delivery cannot be completed. You can specify 'RETURN' or 'ABANDONED'. The default if not specified is to return the item by the most economical route or by air.",
                        "type": "string"
                    },
                    "certificate_number": {
                        "description": "If you are supplying certificates with your customs forms, you can include the certificate numbers in this field",
                        "type": "string",
                        "maxLength": 35
                    },
                    "licence_number": {
                        "description": "If you are supplying licence information with your customs forms, you can include the licence numbers in this field",
                        "type": "string",
                        "maxLength": 35
                    },
                    "invoice_number": {
                        "description": "Use this field to include an invoice number on the label.",
                        "type": "string",
                        "maxLength": 35
                    },
                    "comments": {
                        "description": "Use this field to include any additional comments on the label.",
                        "type": "string",
                        "maxLength": 120
                    },
                    "item_contents": {
                        "description": "An item_contents element describes part of the contents of the item.",
                        "type": "object",
                        "properties": {
                            "description": {
                                "description": "Description of the contents. This description is validated against a defined list of keywords, to determine whether the item can be carried by Australia Post and/or the item is prohibited in the destination country",
                                "type": "string",
                                "maxLength": 40
                            },
                            "quantity": {
                                "description": "The quantity of this described content.",
                                "type": "integer"
                            },
                            "weight": {
                                "description": "The weight in kilograms of this described content. If you provide a weight for one item_contents element, you must provide weights for all item_contents elements.",
                                "type": "number"
                            },
                            "value": {
                                "description": "The value in Australian Dollars of this described content.",
                                "type": "number",
                                "maxLength": 40
                            },
                            "tariff_code": {
                                "description": "The Harmonised Tariff number that indicates the type of this described content. It is only mandatory if commercial_value is 'true', otherwise it is optional. However, it is a recommended field to expedite the customs process in the receiving country.",
                                "type": "integer"
                            },
                            "country_of_origin": {
                                "description": "The country in which this described content was manufactured. It is only mandatory if commercial_value is 'true', otherwise it is optional.",
                                "type": "string",
                                "maxLength": 2
                            }
                        },
                        "required": [
                            "description",
                            "quantity",
                            "value"
                        ]
                    }
                },
                "required": [
                    "product_id",
                    "weight"
                ]
            }
        }
    }
}